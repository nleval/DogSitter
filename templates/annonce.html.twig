
{% extends 'base_template.twig' %}

{% block title %}Annonce — DogSitter{% endblock %}

{% block content %}
    <div class="container-fluid py-4" style="background-color: #FEFAE0; min-height: 100vh;">
        <h2 class="text-center mb-4" style="color:#537031; font-family:'Poppins', sans-serif; font-size:1.8rem;">DÉTAILS DE L'ANNONCE</h2>
        <div class="row justify-content-center align-items-start g-4">
        <div class="col-12 col-md-6 text-center">
          {% if chiens is not empty %}
              {% for chien in chiens %}
                  <div class="mb-3" style="border-radius:12px; overflow:hidden;">
                        <img src="{{ chien.cheminPhoto }}" alt="Photo de {{ chien.nom_chien }}" class="img-fluid rounded" style="max-height:250px; object-fit:cover;">
                        <h4 class="mt-3" style="color:#537031; font-size:1rem;">{{ chien.nom_chien }}</h4>
                        <p class="mb-1"><strong>Race :</strong> {{ chien.race }}</p>
                        <p class="mb-1"><strong>Poids :</strong> {{ chien.poids }}</p>
                        <p class="mb-1"><strong>Taille :</strong> {{ chien.taille }} cm</p>
                        </div>
            {% endfor %}
            {% else %}
                    <p>Aucun chien n'est associé à cette annonce.</p>
            {% endif %}
            </div>

        <div class="col-12 col-md-6">
        <div class="p-3 shadow-lg" style="background:white; border-radius:12px; border-left:6px solid #9AAD5A;">
        <h3 class="fw-bold mb-2" style="color:#537031;">Informations</h3>


        <ul class="list-unstyled fs-6">
            <li><strong style="color:#BC6C25;">Date :</strong> {{ annonce.datePromenade }}</li>
            <li><strong style="color:#BC6C25;">Horaire :</strong> {{ annonce.horaire }}</li>
            <li><strong style="color:#BC6C25;">Durée :</strong> {{ annonce.duree }} minutes</li>
            <li><strong style="color:#BC6C25;">Endroit :</strong> {{ annonce.endroitPromenade }}</li>
            <li><strong style="color:#BC6C25;">Tarif :</strong> {{ annonce.tarif }} €</li>
            <li><strong style="color:#BC6C25;">Status :</strong> {{ annonce.status }}</li>
            <li class ="mt-2"><strong style="color:#BC6C25;">Description :</strong> {{ annonce.description }}</li>
            <li class="mt-2 text-muted"><strong>ID Utilisateur :</strong> {{ annonce.idUtilisateur }}</li>
            
         </ul>

         <div class="d-flex flex-column gap-2 mt-3">

         <!-- Bouton Message -->
         <a href="#" class="btn btn-primary w-100" style="background-color:#537031; border:none;">Envoyer un message</a>

         <!-- Bouton Réserver -->
    {% if annonce.status == 'Réservé' %}
        <button class="btn w-100" style="background-color:#BC6C25; color:white;" disabled>Réservé</button>
    {% elseif annonce.status == 'Annulé' or annonce.status == 'Annulée' %}
        <button class="btn w-100" style="background-color:#D9534F; color:white;" disabled>Annulé</button>
    {% elseif annonce.status == 'Disponible' %}
        <a href="?controleur=Annonce&methode=reservAnnonce&id_annonce={{ annonce.idAnnonce }}" class="btn w-100" style="background-color:#537031; color:white;">Réserver</a>
    {% else %}
        <button class="btn btn-secondary w-100" disabled>Status inconnu</button>
    {% endif %}
        
            </div>
            </div>
            </div>
            </div>
 
    {% block footer %}
    {% endblock %}
{% endblock %}
